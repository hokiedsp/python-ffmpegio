<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Basic I/O Function References &mdash; python-ffmpegio 0.2.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Media Probe Function References" href="probe.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> python-ffmpegio
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="quick.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Basic I/O Function References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-functions">Basic Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="probe.html">Media Probe Function References</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">FFmpeg Option References</a></li>
<li class="toctree-l1"><a class="reference internal" href="filters.html">Filtering Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="caps.html">FFmpeg Capabilities References</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="adv-ffmpeg.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ffmpegio.ffmpegprocess</span></code>: Direct invocation of FFmpeg subprocess</a></li>
<li class="toctree-l1"><a class="reference internal" href="adv-args.html">Specification of FFmpeg Argument dict <code class="code docutils literal notranslate"><span class="pre">ffmpeg_args</span></code></a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="links.html">External Links</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">python-ffmpegio</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Basic I/O Function References</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/basicio.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="basic-i-o-function-references">
<span id="basicio"></span><h1>Basic I/O Function References<a class="headerlink" href="#basic-i-o-function-references" title="Permalink to this headline"></a></h1>
<section id="basic-functions">
<h2>Basic Functions<a class="headerlink" href="#basic-functions" title="Permalink to this headline"></a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ffmpegio.ffmpeg_info" title="ffmpegio.ffmpeg_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.ffmpeg_info</span></code></a></p></td>
<td><p>Get FFmpeg version and configuration information</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ffmpegio.set_path" title="ffmpegio.set_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.set_path</span></code></a></p></td>
<td><p>Set path to FFmpeg bin directory</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ffmpegio.get_path" title="ffmpegio.get_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.get_path</span></code></a></p></td>
<td><p>Get current path to FFmpeg bin directory</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ffmpegio.is_ready" title="ffmpegio.is_ready"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.is_ready</span></code></a></p></td>
<td><p><cite>True</cite> if ffmpeg and ffprobe binaries are located</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ffmpegio.video.create" title="ffmpegio.video.create"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.video.create</span></code></a></p></td>
<td><p>Create a video using a source video filter</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ffmpegio.video.read" title="ffmpegio.video.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.video.read</span></code></a></p></td>
<td><p>Read video frames</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ffmpegio.video.write" title="ffmpegio.video.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.video.write</span></code></a></p></td>
<td><p>Write Numpy array to a video file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ffmpegio.image.create" title="ffmpegio.image.create"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.image.create</span></code></a></p></td>
<td><p>Create an image using a source video filter</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ffmpegio.image.read" title="ffmpegio.image.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.image.read</span></code></a></p></td>
<td><p>Read an image file or a snapshot of a video frame</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ffmpegio.image.write" title="ffmpegio.image.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.image.write</span></code></a></p></td>
<td><p>Write a NumPy array to an image file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ffmpegio.audio.create" title="ffmpegio.audio.create"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.audio.create</span></code></a></p></td>
<td><p>Create audio data using an audio source filter</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ffmpegio.audio.read" title="ffmpegio.audio.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.audio.read</span></code></a></p></td>
<td><p>Read audio samples.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ffmpegio.audio.write" title="ffmpegio.audio.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.audio.write</span></code></a></p></td>
<td><p>Write a NumPy array to an audio file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ffmpegio.open" title="ffmpegio.open"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.open</span></code></a></p></td>
<td><p>Open a multimedia file/stream for read/write</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ffmpegio.transcode" title="ffmpegio.transcode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpegio.transcode</span></code></a></p></td>
<td><p>Transcode a media file to another format/encoding</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.ffmpeg_info">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.</span></span><span class="sig-name descname"><span class="pre">ffmpeg_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.ffmpeg_info" title="Permalink to this definition"></a></dt>
<dd><p>Get FFmpeg version and configuration information</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>versions of ffmpeg and its av libraries as well as build configuration</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 6%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>key</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>‘version’</p></td>
<td><p>str</p></td>
<td><p>FFmpeg version</p></td>
</tr>
<tr class="row-odd"><td><p>‘configuration’</p></td>
<td><p>list</p></td>
<td><p>list of build configuration options</p></td>
</tr>
<tr class="row-even"><td><p>‘library_versions’</p></td>
<td><p>dict</p></td>
<td><p>version numbers of dependent av libraries</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.get_path">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.</span></span><span class="sig-name descname"><span class="pre">get_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.get_path" title="Permalink to this definition"></a></dt>
<dd><p>Get current path to FFmpeg bin directory</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>path to FFmpeg bin directory or <cite>None</cite> if ffmpeg and ffprobe paths have not been set.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.set_path">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.</span></span><span class="sig-name descname"><span class="pre">set_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.set_path" title="Permalink to this definition"></a></dt>
<dd><p>Set path to FFmpeg bin directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dir</strong> (<em>str</em><em>, </em><em>optional</em>) – full path of the FFmpeg bin directory, defaults to None, which
only look in the default locations</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>Exception</strong> – if failed to find ffmpeg or ffprobe binary</p>
</dd>
</dl>
<p>In Linux and Mac, only the specified directory or the system path are
checked. In Windows, the following additional paths are tested in this order:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">%PROGRAMFILES%\ffmpeg\bin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%PROGRAMFILES(X86)%\ffmpeg\bin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%USERPROFILE%\ffmpeg\bin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%APPDATA%\ffmpeg\bin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%APPDATA%\programs\ffmpeg\bin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%LOCALAPPDATA%\ffmpeg\bin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%LOCALAPPDATA%\programs\ffmpeg\bin</span></code></p></li>
</ul>
<p>Here, <code class="docutils literal notranslate"><span class="pre">%xxx%</span></code> are the standard Windows environmental variables:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Windows Environmental Variables</p></th>
<th class="head"><p>Example path</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%PROGRAMFILES%</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%PROGRAMFILES(X86)%</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%USERPROFILE%</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">C:\Users\john</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%APPDATA%</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">C:\Users\john\AppData\Roaming</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%LOCALAPPDATA%</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">C:\Users\john\AppData\Local</span></code></p></td>
</tr>
</tbody>
</table>
<p>When <code class="xref py py-mod docutils literal notranslate"><span class="pre">ffmpegio</span></code> is first imported in Python, it automatically run
this function once, searching in the system path and Windows default
locations (see above). If both ffmpeg and ffprobe are not found, a
warning message is displayed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.is_ready">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.</span></span><span class="sig-name descname"><span class="pre">is_ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.is_ready" title="Permalink to this definition"></a></dt>
<dd><p><cite>True</cite> if ffmpeg and ffprobe binaries are located</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if both ffmpeg and ffprobe are found</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.video.create">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.video.</span></span><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.video.create" title="Permalink to this definition"></a></dt>
<dd><p>Create a video using a source video filter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name of the source filter</p></li>
<li><p><strong>*args</strong> (<em>tuple</em><em>, </em><em>optional</em>) – filter arguments</p></li>
<li><p><strong>t_in</strong> (<em>float</em><em>, </em><em>optional</em>) – duration of the video in seconds, defaults to None</p></li>
<li><p><strong>pix_fmt_in</strong> (<em>str</em><em>, </em><em>optional</em>) – input pixel format if known but not specified in the ffmpeg arg dict, defaults to None</p></li>
<li><p><strong>vf</strong> (<em>FilterGraph</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – additional video filter, defaults to None</p></li>
<li><p><strong>progress</strong> (<em>callable object</em><em>, </em><em>optional</em>) – progress callback function, defaults to None</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)
Ignored if stream format must be retrieved automatically.</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – filter keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>video data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a></p>
</dd>
</dl>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>filter name</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“color”</p></td>
<td><p>uniformly colored frame</p></td>
</tr>
<tr class="row-odd"><td><p>“allrgb”</p></td>
<td><p>frames of size 4096x4096 of all rgb colors</p></td>
</tr>
<tr class="row-even"><td><p>“allyuv”</p></td>
<td><p>frames of size 4096x4096 of all yuv colors</p></td>
</tr>
<tr class="row-odd"><td><p>“gradients”</p></td>
<td><p>several gradients</p></td>
</tr>
<tr class="row-even"><td><p>“mandelbrot”</p></td>
<td><p>Mandelbrot set fractal</p></td>
</tr>
<tr class="row-odd"><td><p>“mptestsrc”</p></td>
<td><p>various test patterns of the MPlayer test filter</p></td>
</tr>
<tr class="row-even"><td><p>“life”</p></td>
<td><p>life pattern based on John Conway’s life game</p></td>
</tr>
<tr class="row-odd"><td><p>“haldclutsrc”</p></td>
<td><p>identity Hald CLUT</p></td>
</tr>
<tr class="row-even"><td><p>“testsrc”</p></td>
<td><p>test video pattern, showing a color pattern</p></td>
</tr>
<tr class="row-odd"><td><p>“testsrc2”</p></td>
<td><p>another test video pattern, showing a color pattern</p></td>
</tr>
<tr class="row-even"><td><p>“rgbtestsrc”</p></td>
<td><p>RGB test pattern useful for detecting RGB vs BGR issues</p></td>
</tr>
<tr class="row-odd"><td><p>“smptebars”</p></td>
<td><p>color bars pattern, based on the SMPTE Engineering Guideline EG 1-1990</p></td>
</tr>
<tr class="row-even"><td><p>“smptehdbars”</p></td>
<td><p>color bars pattern, based on the SMPTE RP 219-2002</p></td>
</tr>
<tr class="row-odd"><td><p>“pal100bars”</p></td>
<td><p>a color bars pattern, based on EBU PAL recommendations with 100% color levels</p></td>
</tr>
<tr class="row-even"><td><p>“pal75bars”</p></td>
<td><p>a color bars pattern, based on EBU PAL recommendations with 75% color levels</p></td>
</tr>
<tr class="row-odd"><td><p>“yuvtestsrc”</p></td>
<td><p>YUV test pattern. You should see a y, cb and cr stripe from top to bottom</p></td>
</tr>
<tr class="row-even"><td><p>“sierpinski”</p></td>
<td><p>Sierpinski carpet/triangle fractal</p></td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="https://ffmpeg.org/ffmpeg-filters.html#Video-Sources">https://ffmpeg.org/ffmpeg-filters.html#Video-Sources</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.video.read">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.video.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.video.read" title="Permalink to this definition"></a></dt>
<dd><p>Read video frames</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL of the video file to read.</p></li>
<li><p><strong>progress</strong> (<em>callable object</em><em>, </em><em>optional</em>) – progress callback function, defaults to None</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)
Ignored if stream format must be retrieved automatically.</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options, append ‘_in’ for input option names (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>frame rate and video frame data (dims: time x rows x cols x pix_comps)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<cite>fractions.Fraction</cite>, <cite>numpy.ndarray</cite>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.video.write">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.video.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">two_pass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass1_omits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass1_extras</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.video.write" title="Permalink to this definition"></a></dt>
<dd><p>Write Numpy array to a video file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL of the video file to write.</p></li>
<li><p><strong>rate_in</strong> (<cite>float</cite>, <cite>int</cite>, or <cite>fractions.Fraction</cite>) – frame rate in frames/second</p></li>
<li><p><strong>data</strong> (<cite>numpy.ndarray</cite>) – video frame data 4-D array (frame x rows x cols x components)</p></li>
<li><p><strong>progress</strong> (<em>callable object</em><em>, </em><em>optional</em>) – progress callback function, defaults to None</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to overwrite if output url exists, defaults to None
(auto-select)</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)</p></li>
<li><p><strong>two_pass</strong> – True to encode in 2-pass</p></li>
<li><p><strong>pass1_omits</strong> (<em>seq</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – list of output arguments to ignore in pass 1, defaults to None</p></li>
<li><p><strong>pass1_extras</strong> (<em>dict</em><em>(</em><em>int:dict</em><em>(</em><em>str</em><em>)</em><em>)</em><em>, </em><em>optional</em>) – list of additional output arguments to include in pass 1, defaults to None</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options, append ‘_in’ for input option names (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.image.create">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.image.</span></span><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.image.create" title="Permalink to this definition"></a></dt>
<dd><p>Create an image using a source video filter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name of the source filter</p></li>
<li><p><strong>*args</strong> (<em>tuple</em><em>, </em><em>optional</em>) – filter arguments</p></li>
<li><p><strong>pix_fmt</strong> (<em>str</em><em>, </em><em>optional</em>) – RGB/grayscale pixel format name, defaults to None (rgb24)</p></li>
<li><p><strong>vf</strong> (<em>FilterGraph</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – additional video filter, defaults to None</p></li>
<li><p><strong>vframe</strong> (<em>int</em><em>, </em><em>optional</em>) – video frame index to capture, defaults to None (=0)</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)
Ignored if stream format must be retrieved automatically.</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – filter keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>image data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a></p>
</dd>
</dl>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>filter name</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“color”</p></td>
<td><p>uniformly colored frame</p></td>
</tr>
<tr class="row-odd"><td><p>“allrgb”</p></td>
<td><p>frames of size 4096x4096 of all rgb colors</p></td>
</tr>
<tr class="row-even"><td><p>“allyuv”</p></td>
<td><p>frames of size 4096x4096 of all yuv colors</p></td>
</tr>
<tr class="row-odd"><td><p>“gradients”</p></td>
<td><p>several gradients</p></td>
</tr>
<tr class="row-even"><td><p>“mandelbrot”</p></td>
<td><p>Mandelbrot set fractal</p></td>
</tr>
<tr class="row-odd"><td><p>“mptestsrc”</p></td>
<td><p>various test patterns of the MPlayer test filter</p></td>
</tr>
<tr class="row-even"><td><p>“life”</p></td>
<td><p>life pattern based on John Conway’s life game</p></td>
</tr>
<tr class="row-odd"><td><p>“haldclutsrc”</p></td>
<td><p>identity Hald CLUT</p></td>
</tr>
<tr class="row-even"><td><p>“testsrc”</p></td>
<td><p>test video pattern, showing a color pattern</p></td>
</tr>
<tr class="row-odd"><td><p>“testsrc2”</p></td>
<td><p>another test video pattern, showing a color pattern</p></td>
</tr>
<tr class="row-even"><td><p>“rgbtestsrc”</p></td>
<td><p>RGB test pattern useful for detecting RGB vs BGR issues</p></td>
</tr>
<tr class="row-odd"><td><p>“smptebars”</p></td>
<td><p>color bars pattern, based on the SMPTE Engineering Guideline EG 1-1990</p></td>
</tr>
<tr class="row-even"><td><p>“smptehdbars”</p></td>
<td><p>color bars pattern, based on the SMPTE RP 219-2002</p></td>
</tr>
<tr class="row-odd"><td><p>“pal100bars”</p></td>
<td><p>a color bars pattern, based on EBU PAL recommendations with 100% color levels</p></td>
</tr>
<tr class="row-even"><td><p>“pal75bars”</p></td>
<td><p>a color bars pattern, based on EBU PAL recommendations with 75% color levels</p></td>
</tr>
<tr class="row-odd"><td><p>“yuvtestsrc”</p></td>
<td><p>YUV test pattern. You should see a y, cb and cr stripe from top to bottom</p></td>
</tr>
<tr class="row-even"><td><p>“sierpinski”</p></td>
<td><p>Sierpinski carpet/triangle fractal</p></td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="https://ffmpeg.org/ffmpeg-filters.html#Video-Sources">https://ffmpeg.org/ffmpeg-filters.html#Video-Sources</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.image.read">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.image.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.image.read" title="Permalink to this definition"></a></dt>
<dd><p>Read an image file or a snapshot of a video frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL of the image or video file to read.</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)
Ignored if stream format must be retrieved automatically.</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options, append ‘_in’ for input option names (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>image data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a></p>
</dd>
</dl>
<p>Note on **options: To specify the video frame capture time, use <cite>time</cite>
option which is an alias of <cite>start</cite> standard option.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.image.write">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.image.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.image.write" title="Permalink to this definition"></a></dt>
<dd><p>Write a NumPy array to an image file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL of the image file to write.</p></li>
<li><p><strong>data</strong> (<cite>numpy.ndarray</cite>) – image data 3-D array (rowsxcolsxcomponents)</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to overwrite if output url exists, defaults to None
(auto-select)</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options, append ‘_in’ for input option names (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.audio.create">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.audio.</span></span><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">af</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.audio.create" title="Permalink to this definition"></a></dt>
<dd><p>Create audio data using an audio source filter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> (<em>str</em>) – name of the source filter or full filter expression</p></li>
<li><p><strong>*args</strong> (<em>tuple</em><em>, </em><em>optional</em>) – filter arguments</p></li>
<li><p><strong>progress</strong> (<em>callable object</em><em>, </em><em>optional</em>) – progress callback function, defaults to None</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)
Ignored if stream format must be retrieved automatically.</p></li>
<li><p><strong>t_in</strong> (<em>float</em><em>, </em><em>optional</em>) – duration of the video in seconds, defaults to None</p></li>
<li><p><strong>ar</strong> (<em>int</em><em>, </em><em>optional</em>) – sampling rate in samples/second, defaults to None</p></li>
<li><p><strong>ac</strong> (<em>int</em><em>, </em><em>optional</em>) – number of channels, defaults to None</p></li>
<li><p><strong>sample_fmt</strong> (<em>str</em><em>, </em><em>optional</em>) – sample format, defaults to None</p></li>
<li><p><strong>af</strong> (<em>FilterGraph</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – additional filter, defaults to None</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>audio data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Either <cite>duration</cite> or <cite>nb_samples</cite> filter options must be set.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>filter name</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“aevalsrc”</p></td>
<td><p>an audio signal specified by an expression</p></td>
</tr>
<tr class="row-odd"><td><p>“anoisesrc”</p></td>
<td><p>a noise audio signal</p></td>
</tr>
<tr class="row-even"><td><p>“sine”</p></td>
<td><p>audio signal made of a sine wave with amplitude 1/8</p></td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="https://ffmpeg.org/ffmpeg-filters.html#Audio-Sources">https://ffmpeg.org/ffmpeg-filters.html#Audio-Sources</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.audio.read">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.audio.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.audio.read" title="Permalink to this definition"></a></dt>
<dd><p>Read audio samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL of the audio file to read.</p></li>
<li><p><strong>progress</strong> (<em>callable object</em><em>, </em><em>optional</em>) – progress callback function, defaults to None</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)
Ignored if stream format must be retrieved automatically.</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options, append ‘_in’ for input option names (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sample rate in samples/second and audio data matrix (timexchannel)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple(<cite>float</cite>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even if <code class="code docutils literal notranslate"><span class="pre">start_time</span></code> option is set, all the prior samples will be read.
The retrieved data will be truncated before returning it to the caller.
This is to ensure the timing accuracy. As such, do not use this function
to perform block-wise processing. Instead use the streaming solution,
see <code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.audio.write">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.audio.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.audio.write" title="Permalink to this definition"></a></dt>
<dd><p>Write a NumPy array to an audio file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL of the audio file to write.</p></li>
<li><p><strong>rate_in</strong> (<em>int</em>) – The sample rate in samples/second.</p></li>
<li><p><strong>data</strong> (<cite>numpy.ndarray</cite>) – input audio data.</p></li>
<li><p><strong>progress</strong> (<em>callable object</em><em>, </em><em>optional</em>) – progress callback function, defaults to None</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to overwrite if output url exists, defaults to None
(auto-select)</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options, append ‘_in’ for input option names (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>)</p></li>
<li><p><strong>data</strong> – A 1-D or 2-D NumPy array of either integer or float data-type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.open">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.</span></span><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url_fg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.open" title="Permalink to this definition"></a></dt>
<dd><p>Open a multimedia file/stream for read/write</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url_fg</strong> (<em>str</em><em> or </em><em>seq</em><em>(</em><em>str</em><em>)</em>) – URL of the media source/destination for file read/write or filtergraph definition
for filter operation.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – specifies the mode in which the FFmpeg is used, defaults to None</p></li>
<li><p><strong>rate</strong> (<em>Fraction</em><em>, </em><em>float</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – (filter specific) output frame rate (video write) or sample rate (audio
write), defaults to None</p></li>
<li><p><strong>dtype</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.22)"><em>numpy.dtype</em></a><em>, </em><em>optional</em>) – (read and filter specific) output data numpy dtype, defaults to None</p></li>
<li><p><strong>shape</strong> (<em>seq of int</em><em>, </em><em>optional</em>) – (read and filter specific) output video frame size (height x width [x ncomponents]),
or audio sample size (channels,), defaults to None</p></li>
<li><p><strong>rate_in</strong> (<em>Fraction</em><em>, </em><em>float</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – (filter specific) input frame rate (video write) or sample rate (audio
write), defaults to None</p></li>
<li><p><strong>dtype_in</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.22)"><em>numpy.dtype</em></a><em>, </em><em>optional</em>) – (write and filter specific) input data numpy dtype, defaults to None</p></li>
<li><p><strong>shape_in</strong> (<em>seq of int</em><em>, </em><em>optional</em>) – (write and filter specific) input video frame size (height x width [x ncomponents]),
or audio sample size (channels,), defaults to None</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options, append ‘_in’ for input option names (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>ffmpegio stream object</p>
</dd>
</dl>
<p>Start FFmpeg and open I/O link to it to perform read/write/filter operation and return
a corresponding stream object. If the file cannot be opened, an error is raised.
See Reading and Writing Files for more examples of how to use this function.</p>
<p><cite>open()</cite> yields a ffmpegio’s stream object and automatically closes it
when goes out of the context</p>
<dl class="field-list simple">
<dt class="field-odd">Examples</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>Open an MP4 file and process all the frames:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">ffmpegio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;video_source.mp4&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">frame</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">frame</span><span class="p">:</span>
        <span class="c1"># process the captured frame data</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<p>Read an audio stream of MP4 file and write it to a FLAC file as samples
are decoded:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">ffmpegio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;video_source.mp4&#39;</span><span class="p">,</span><span class="s1">&#39;ra&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">rd</span><span class="p">:</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">sample_rate</span>
    <span class="k">with</span> <span class="n">ffmpegio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;video_dst.flac&#39;</span><span class="p">,</span><span class="s1">&#39;wa&#39;</span><span class="p">,</span><span class="n">rate_in</span><span class="o">=</span><span class="n">fs</span><span class="p">)</span> <span class="k">as</span> <span class="n">wr</span><span class="p">:</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">frame</span><span class="p">:</span>
            <span class="n">wr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
            <span class="n">frame</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Additional Notes</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p><cite>url_fg</cite> can be a string specifying either the pathname (absolute or relative to the current
working directory) of the media target (file or streaming media) to be opened or a string describing
the filtergraph to be implemented. Its interpretation depends on the <cite>mode</cite> argument.</p>
<p><cite>mode</cite> is an optional string that specifies the mode in which the FFmpeg is opened.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 93%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>‘r’</p></td>
<td><p>read from url (default)</p></td>
</tr>
<tr class="row-odd"><td><p>‘w’</p></td>
<td><p>write to url</p></td>
</tr>
<tr class="row-even"><td><p>‘f’</p></td>
<td><p>filter data defined by fg</p></td>
</tr>
<tr class="row-odd"><td><p>‘v’</p></td>
<td><p>operate on video stream, ‘vv’ if multi-video reader</p></td>
</tr>
<tr class="row-even"><td><p>‘a’</p></td>
<td><p>operate on audio stream, ‘aa’ if multi-audio reader</p></td>
</tr>
</tbody>
</table>
<p>The default operating mode is dictated by <cite>rate</cite> and <cite>rate_in</cite> arguments. The ‘f’ mode is selected
if both <cite>rate</cite> and  <cite>rate_in</cite> are given while the ‘w’ mode is selected if only <cite>rate_in</cite> without
<cite>rate</cite> argument is given. Otherwise, it defaults to ‘r’.</p>
<p>If no media type (‘v’ or ‘a’) is specified, it selects the first stream of the media in read mode.
For write and filter modes, the length of <cite>shape_in</cite> if given will be used for the detection:
‘a’ if 1 else ‘v’. If cannot be autodetected, ValueError will be raised.</p>
<p><cite>rate</cite> and <cite>rate_in</cite>: Video frame rates shall be given in frames/second and
may be given as a number, string, or <cite>fractions.Fraction</cite>. Audio sample rate in
samples/second (per channel) and shall be given as an integer or string.</p>
<p>Optional <cite>shape</cite> or <cite>shape_in</cite> for video defines the video frame size and
number of components with a 2 or 3 element sequence: <cite>(width, height[, ncomp])</cite>.
The number of components and other optional <cite>dtype</cite> (or <cite>dtype_in</cite>) implicitly
define the pixel format (FFmpeg pix_fmt option):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 20%" />
<col style="width: 15%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ncomp</p></th>
<th class="head"><p>dtype</p></th>
<th class="head"><p>pix_fmt</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>numpy.uint8</p></td>
<td><p>gray</p></td>
<td><p>grayscale</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>numpy.uint16</p></td>
<td><p>gray16le</p></td>
<td><p>16-bit grayscale</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>numpy.single</p></td>
<td><p>grayf32le</p></td>
<td><p>floating-point grayscale</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>numpy.uint8</p></td>
<td><p>ya8</p></td>
<td><p>grayscale with alpha channel</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>numpy.uint16</p></td>
<td><p>ya16le</p></td>
<td><p>16-bit grayscale with alpha channel</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>numpy.uint8</p></td>
<td><p>rgb24</p></td>
<td><p>RGB</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>numpy.uint16</p></td>
<td><p>rgb48le</p></td>
<td><p>16-bit RGB</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>numpy.uint8</p></td>
<td><p>rgba</p></td>
<td><p>RGB with alpha transparency channel</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>numpy.uint16</p></td>
<td><p>rgba64le</p></td>
<td><p>16-bit RGB with alpha channel</p></td>
</tr>
</tbody>
</table>
<p>For audio stream, single-element seq argument, <cite>shape</cite> or <cite>shape_in</cite>,
specifies the number of channels while <cite>dtype</cite> and <cite>dtype_in</cite> determines
the sample format (FFmpeg sample_fmt option):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>dtype</p></th>
<th class="head"><p>sample_fmt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>numpy.uint8</p></td>
<td><p>u8</p></td>
</tr>
<tr class="row-odd"><td><p>numpy.int16</p></td>
<td><p>s16</p></td>
</tr>
<tr class="row-even"><td><p>numpy.int32</p></td>
<td><p>s32</p></td>
</tr>
<tr class="row-odd"><td><p>numpy.single</p></td>
<td><p>flt</p></td>
</tr>
<tr class="row-even"><td><p>numpy.double</p></td>
<td><p>dbl</p></td>
</tr>
</tbody>
</table>
<p>If dtypes and sshapes are not specified at the time of opening, they will
be set during the first write/filter operation using the input data.</p>
<p>In addition, <cite>open()</cite> accepts the standard option keyword arguments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ffmpegio.transcode">
<span class="sig-prename descclassname"><span class="pre">ffmpegio.</span></span><span class="sig-name descname"><span class="pre">transcode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">two_pass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass1_omits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass1_extras</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ffmpegio.transcode" title="Permalink to this definition"></a></dt>
<dd><p>Transcode a media file to another format/encoding</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_url</strong> (<em>str</em>) – url/path of the input media file</p></li>
<li><p><strong>output_url</strong> (<em>str</em>) – url/path of the output media file</p></li>
<li><p><strong>progress</strong> (<em>callable object</em><em>, </em><em>optional</em>) – progress callback function, defaults to None</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to overwrite if output url exists, defaults to None
(auto-select)</p></li>
<li><p><strong>show_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to show FFmpeg log messages on the console,
defaults to None (no show/capture)
Ignored if stream format must be retrieved automatically.</p></li>
<li><p><strong>two_pass</strong> – True to encode in 2-pass</p></li>
<li><p><strong>pass1_omits</strong> (<em>seq</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – list of output arguments to ignore in pass 1, defaults to
None (removes ‘c:a’ or ‘acodec’)</p></li>
<li><p><strong>pass1_extras</strong> (<em>dict</em><em>(</em><em>int:dict</em><em>(</em><em>str</em><em>)</em><em>)</em><em>, </em><em>optional</em>) – list of additional output arguments to include in pass 1,
defaults to None (add ‘an’ if <cite>pass1_omits</cite> also None)</p></li>
<li><p><strong>**options</strong> (<em>dict</em><em>, </em><em>optional</em>) – FFmpeg options. For output and global options, use FFmpeg
option names as is. For input options, prepend “<a href="#id1"><span class="problematic" id="id2">input_</span></a>” to
the option name. For example, input_r=2000 to force the
input frame rate to 2000 frames/s (see <a class="reference internal" href="options.html"><span class="doc">FFmpeg Option References</span></a>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returncode of FFmpeg subprocess</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="probe.html" class="btn btn-neutral float-right" title="Media Probe Function References" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2022, Takeshi (Kesh) Ikuma, Louisiana State University Health Sciences Center.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>